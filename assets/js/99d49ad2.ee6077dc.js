(self.webpackChunk=self.webpackChunk||[]).push([[840],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>m,kt:()=>u});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),d=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return r.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=d(n),u=i,k=c["".concat(p,".").concat(u)]||c[u]||s[u]||a;return n?r.createElement(k,o(o({ref:t},m),{},{components:n})):r.createElement(k,o({ref:t},m))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<a;d++)o[d]=n[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{frontMatter:()=>l,metadata:()=>p,toc:()=>d,default:()=>s});var r=n(2122),i=n(9756),a=(n(7294),n(3905)),o=["components"],l={title:"2-2: Dictionaries",sidebar_label:"Part 2: Dictionaries"},p={unversionedId:"ref/dictionaries",id:"ref/dictionaries",isDocsHomePage:!1,title:"2-2: Dictionaries",description:"A dictionary is a set of terms, each of which has a semantic UID and is uniquely identified by a syntactic name.",source:"@site/docs/ref/dictionaries.md",sourceDirName:"ref",slug:"/ref/dictionaries",permalink:"/help/docs/ref/dictionaries",version:"current",lastUpdatedBy:"Ian Gregory",lastUpdatedAt:1623393694,formattedLastUpdatedAt:"6/11/2021",sidebar_label:"Part 2: Dictionaries",frontMatter:{title:"2-2: Dictionaries",sidebar_label:"Part 2: Dictionaries"},sidebar:"ref",previous:{title:"2-1: Terms",permalink:"/help/docs/ref/terms"},next:{title:"3-1: Specifiers",permalink:"/help/docs/ref/specifiers"}},d=[{value:"Qualified term lookup",id:"qualified-term-lookup",children:[]},{value:"The lexicon",id:"the-lexicon",children:[]},{value:"Unqualified term lookup",id:"unqualified-term-lookup",children:[{value:"Primary term lookup",id:"primary-term-lookup",children:[]},{value:"Secondary term lookup",id:"secondary-term-lookup",children:[]}]},{value:"Exporting dictionaries",id:"exporting-dictionaries",children:[]},{value:"Dictionary sources",id:"dictionary-sources",children:[]}],m={toc:d};function s(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A ",(0,a.kt)("em",{parentName:"p"},"dictionary")," is a set of ",(0,a.kt)("a",{parentName:"p",href:"terms"},"terms"),", each of which has a semantic ",(0,a.kt)("a",{parentName:"p",href:"terms#term-uids"},"UID")," and is uniquely identified by a syntactic ",(0,a.kt)("a",{parentName:"p",href:"terms#term-names"},"name"),"."),(0,a.kt)("p",null,"For the purposes of term lookup, a dictionary maps each ",(0,a.kt)("a",{parentName:"p",href:"terms#term-names"},"term name")," to at most one term."),(0,a.kt)("p",null,"A term can also ",(0,a.kt)("em",{parentName:"p"},"contain")," a single dictionary; this allows for nested dictionaries (i.e., a dictionary in a term in a dictionary). A dictionary is not itself a syntactic element, but its ",(0,a.kt)("em",{parentName:"p"},"container term")," can be used to refer to it."),(0,a.kt)("p",null,"Organizing terms into dictionaries insures against name clashes, and exporting (see below) ensures that such nested terms are no less convenient to use."),(0,a.kt)("p",null,"See also: ",(0,a.kt)("a",{parentName:"p",href:"../tutorial/dictionaries"},"Quick Tutorial"),"."),(0,a.kt)("h2",{id:"qualified-term-lookup"},"Qualified term lookup"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Qualified term lookup")," looks for a term in a specific dictionary, specified by its container term."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Syntax"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"<term> :: <term-name> [ : <term> ]\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Examples"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"defining dictionary A\n  defining type B\n    define constant C\n  end\nend\n\nA --\x3e dictionary term 'A'\nA : B --\x3e type term 'B'\nA : B : C --\x3e constant term 'C'\n")),(0,a.kt)("h2",{id:"the-lexicon"},"The lexicon"),(0,a.kt)("p",null,"The ",(0,a.kt)("em",{parentName:"p"},"lexicon")," refers to the list of in-scope dictionaries at a given point in a program. A term is ",(0,a.kt)("em",{parentName:"p"},"in the lexicon")," if it is defined by one of those dictionaries."),(0,a.kt)("h2",{id:"unqualified-term-lookup"},"Unqualified term lookup"),(0,a.kt)("p",null,"An unqualified term name (such as ",(0,a.kt)("inlineCode",{parentName:"p"},"abc"),") or the first term name in a qualified term lookup (such as ",(0,a.kt)("inlineCode",{parentName:"p"},"abc")," in ",(0,a.kt)("inlineCode",{parentName:"p"},"abc : def"),") are examples of ",(0,a.kt)("em",{parentName:"p"},"unqualified term lookup"),". Unqualified term lookup consults the lexicon to find a term."),(0,a.kt)("p",null,'Unqualified lookup is comprised of two subprocesses: primary and secondary lookup. Primary lookup is always used first. If primary lookup fails, secondary lookup is tried instead. If secondary lookup also fails, then the entire unqualified term lookup fails and an "undefined term" error results.'),(0,a.kt)("h3",{id:"primary-term-lookup"},"Primary term lookup"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Primary term lookup")," finds terms in the lexicon. It occurs first in any unqualified lookup."),(0,a.kt)("p",null,"The dictionaries in the lexicon are searched in order from bottom (most recently pushed) to top (the built-in top-level dictionary)."),(0,a.kt)("h4",{id:"term-shadowing"},"Term shadowing"),(0,a.kt)("p",null,"A term in the lexicon ",(0,a.kt)("em",{parentName:"p"},"shadows")," any ",(0,a.kt)("a",{parentName:"p",href:"terms#homonyms"},"homonyms")," in dictionaries later in the search order. Shadowed terms are hidden from primary lookup until the shadowing term's dictionary is removed from the lexicon."),(0,a.kt)("h3",{id:"secondary-term-lookup"},"Secondary term lookup"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Secondary term lookup")," occurs if primary lookup fails. Secondary lookup finds terms exported by the dictionaries of terms in the lexicon (explained below)."),(0,a.kt)("h2",{id:"exporting-dictionaries"},"Exporting dictionaries"),(0,a.kt)("p",null,"An ",(0,a.kt)("em",{parentName:"p"},"exporting dictionary")," ",(0,a.kt)("em",{parentName:"p"},"exports")," its contents, making them visible to secondary term lookup when the dictionary's container term is in the lexicon. Most dictionaries are exporting dictionaries."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Examples"),":"),(0,a.kt)("p",null,"Given the following dictionary setup:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"defining dictionary A\n  defining dictionary B\n    define type C\n  end\nend\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"B")," are both terms containing exporting dictionaries. Therefore, ",(0,a.kt)("inlineCode",{parentName:"p"},"B")," is visible to secondary term lookup when ",(0,a.kt)("inlineCode",{parentName:"p"},"A")," is in the lexicon because ",(0,a.kt)("inlineCode",{parentName:"p"},"A")," exports it. Likewise, ",(0,a.kt)("inlineCode",{parentName:"p"},"C")," is visible to secondary term lookup when ",(0,a.kt)("inlineCode",{parentName:"p"},"B")," is in the lexicon because ",(0,a.kt)("inlineCode",{parentName:"p"},"B")," exports it."),(0,a.kt)("p",null,"Note that ",(0,a.kt)("inlineCode",{parentName:"p"},"C")," is ",(0,a.kt)("em",{parentName:"p"},"not")," visible when only ",(0,a.kt)("inlineCode",{parentName:"p"},"A")," is in the lexicon because ",(0,a.kt)("inlineCode",{parentName:"p"},"C")," is exported by ",(0,a.kt)("inlineCode",{parentName:"p"},"B"),", not ",(0,a.kt)("inlineCode",{parentName:"p"},"A"),". In this case, ",(0,a.kt)("inlineCode",{parentName:"p"},"C")," could be referred to as ",(0,a.kt)("inlineCode",{parentName:"p"},"B : C")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"A : B : C"),", but not as just ",(0,a.kt)("inlineCode",{parentName:"p"},"C"),"."),(0,a.kt)("h2",{id:"dictionary-sources"},"Dictionary sources"),(0,a.kt)("p",null,"The following table lists possible sources of dictionaries, how their container terms are named, and whether they export their contents."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Dictionary source"),(0,a.kt)("th",{parentName:"tr",align:null},"Term naming scheme"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Exports"),(0,a.kt)("th",{parentName:"tr",align:null},"Example name mapping"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Built-in"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"BushelScript")),(0,a.kt)("td",{parentName:"tr",align:"center"},"N/A"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"BushelScript"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Implicit top script block"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"script")),(0,a.kt)("td",{parentName:"tr",align:"center"},"N/A"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"script"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Dictionary terms"),(0,a.kt)("td",{parentName:"tr",align:null},"Name of dictionary term"),(0,a.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"define dictionary Oxford English")," \u2192 ",(0,a.kt)("inlineCode",{parentName:"td"},"Oxford English"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Type terms"),(0,a.kt)("td",{parentName:"tr",align:null},"Name of type term"),(0,a.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"define type Keyboard")," \u2192 ",(0,a.kt)("inlineCode",{parentName:"td"},"Keyboard"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Resources"),(0,a.kt)("td",{parentName:"tr",align:null},"Name of resource"),(0,a.kt)("td",{parentName:"tr",align:"center"},"\u2713"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"use app Safari")," \u2192 ",(0,a.kt)("inlineCode",{parentName:"td"},"Safari"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Script block"),(0,a.kt)("td",{parentName:"tr",align:null},"Name of script"),(0,a.kt)("td",{parentName:"tr",align:"center"},"\u2717"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"script ChopOnions")," \u2192 ",(0,a.kt)("inlineCode",{parentName:"td"},"ChopOnions"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Function block"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function")),(0,a.kt)("td",{parentName:"tr",align:"center"},"\u2717"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"function"))))))}s.isMDXComponent=!0}}]);