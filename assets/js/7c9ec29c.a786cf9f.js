(self.webpackChunk=self.webpackChunk||[]).push([[284],{3905:(e,t,r)=>{"use strict";r.d(t,{Zo:()=>c,kt:()=>d});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),s=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(r),d=a,f=u["".concat(l,".").concat(d)]||u[d]||m[d]||i;return r?n.createElement(f,o(o({ref:t},c),{},{components:r})):n.createElement(f,o({ref:t},c))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=u;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,o[1]=p;for(var s=2;s<i;s++)o[s]=r[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},6669:(e,t,r)=>{"use strict";r.r(t),r.d(t,{frontMatter:()=>p,metadata:()=>l,toc:()=>s,default:()=>m});var n=r(2122),a=r(9756),i=(r(7294),r(3905)),o=["components"],p={title:"3-2: Resources",sidebar_label:"Part 2: Resources"},l={unversionedId:"ref/resources",id:"ref/resources",isDocsHomePage:!1,title:"3-2: Resources",description:"require expressions find and import resources, which are external components like applications and other scripts.",source:"@site/docs/ref/resources.md",sourceDirName:"ref",slug:"/ref/resources",permalink:"/help/docs/ref/resources",version:"current",lastUpdatedBy:"Ian Gregory",lastUpdatedAt:1626226983,formattedLastUpdatedAt:"7/13/2021",sidebar_label:"Part 2: Resources",frontMatter:{title:"3-2: Resources",sidebar_label:"Part 2: Resources"},sidebar:"ref",previous:{title:"3-1: Specifiers",permalink:"/help/docs/ref/specifiers"},next:{title:"5-1: Functions",permalink:"/help/docs/ref/functions"}},s=[{value:"Requirements",id:"requirements",children:[]},{value:"Resource terms",id:"resource-terms",children:[{value:"Imported terms",id:"imported-terms",children:[]},{value:"Remote calls",id:"remote-calls",children:[]},{value:"Remote specifiers",id:"remote-specifiers",children:[]}]},{value:"Types of resources",id:"types-of-resources",children:[{value:"App",id:"app",children:[]},{value:"Library",id:"library",children:[]},{value:"AppleScript",id:"applescript",children:[]},{value:"System",id:"system",children:[]}]}],c={toc:s};function m(e){var t=e.components,r=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require")," expressions find and import ",(0,i.kt)("em",{parentName:"p"},"resources"),", which are external components like applications and other scripts."),(0,i.kt)("p",null,"The syntax of a ",(0,i.kt)("inlineCode",{parentName:"p"},"require")," expression depends on the ",(0,i.kt)("a",{parentName:"p",href:"#types-of-resources"},"type of resource")," being referred to."),(0,i.kt)("p",null,"See also: ",(0,i.kt)("a",{parentName:"p",href:"/docs/tutorial/resources"},"Quick Tutorial"),"."),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("p",null,"Resources such as non-default apps aren't available in all host environments. To this end, a ",(0,i.kt)("inlineCode",{parentName:"p"},"require")," expression declares a ",(0,i.kt)("em",{parentName:"p"},"requirement"),", which, if not met by the host environment, will trigger a parse error. The conditions under which a requirement is met are specific to each resource type."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"require app Google Chrome\n")),(0,i.kt)("p",null,"This declares a requirement on Google Chrome being installed. If it's not installed, the parser complains:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Can't find required app Google Chrome")),(0,i.kt)("p",null,"(Unmet requirements are a parse error because resources can import terms.)"),(0,i.kt)("h2",{id:"resource-terms"},"Resource terms"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require")," expressions define ",(0,i.kt)("em",{parentName:"p"},"resource terms"),". Note that ",(0,i.kt)("em",{parentName:"p"},"resource")," and ",(0,i.kt)("em",{parentName:"p"},"resource term")," will be used interchangeably at times."),(0,i.kt)("h3",{id:"imported-terms"},"Imported terms"),(0,i.kt)("p",null,"Resources terms often ",(0,i.kt)("a",{parentName:"p",href:"/docs/ref/dictionaries"},"contain (and export)")," ",(0,i.kt)("em",{parentName:"p"},"imported terms"),"."),(0,i.kt)("p",null,"For example, the scripting dictionary for the Contacts app defines the ",(0,i.kt)("a",{parentName:"p",href:"/docs/ref/terms"},"type")," ",(0,i.kt)("inlineCode",{parentName:"p"},"person"),", so when imported, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Contacts")," resource contains and exports ",(0,i.kt)("inlineCode",{parentName:"p"},"person")," (along with the rest of the dictionary):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"require app Contacts\n-- The term 'Contacts' contains the Contacts AppleScript dictionary\nperson --\x3e type 'person' in Contacts dictionary\n")),(0,i.kt)("h3",{id:"remote-calls"},"Remote calls"),(0,i.kt)("p",null,"At runtime, a resource evaluates to a ",(0,i.kt)("em",{parentName:"p"},"resource object")," that represents it. Resource objects often handle commands via ",(0,i.kt)("em",{parentName:"p"},"remote calls")," over some protocol, requiring marshalling of data."),(0,i.kt)("h4",{id:"encoding"},"Encoding"),(0,i.kt)("p",null,"Most remote calls require ",(0,i.kt)("em",{parentName:"p"},"encoding")," (or ",(0,i.kt)("em",{parentName:"p"},"boxing")," or ",(0,i.kt)("em",{parentName:"p"},"packing"),") of data into a ",(0,i.kt)("em",{parentName:"p"},"transport format"),". For example, calls sent to apps and AppleScripts are routed through AppleEvents, which require data to be represented as AppleScript objects. If encoding is possible, it happens automatically."),(0,i.kt)("p",null,"Encoding can fail if an object is not adequately representable in the target format. For instance, a ",(0,i.kt)("inlineCode",{parentName:"p"},"record")," can only be encoded as an AppleScript object if its keys are ",(0,i.kt)("a",{parentName:"p",href:"/docs/ref/terms#uri-schemes"},(0,i.kt)("inlineCode",{parentName:"a"},"ae4"))," symbolic contants."),(0,i.kt)("h4",{id:"decoding"},"Decoding"),(0,i.kt)("p",null,"Data received in response to a remote call requires ",(0,i.kt)("em",{parentName:"p"},"decoding")," (or ",(0,i.kt)("em",{parentName:"p"},"unboxing")," or ",(0,i.kt)("em",{parentName:"p"},"unpacking"),") from a transport format into a native BushelScript format. For example, reply AppleEvents contain AppleScript objects, which must be decoded to be useful in BushelScript. If decoding is possible, it happens automatically."),(0,i.kt)("p",null,"Decoding can fail if no BushelScript type is known to adequately represent it. When this occurs, the data is left intact in a ",(0,i.kt)("em",{parentName:"p"},"wrapper object"),". Locally, wrapper objects are opaque, but they can be sent in any remote calls with the same transport format."),(0,i.kt)("h3",{id:"remote-specifiers"},"Remote specifiers"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/ref/specifiers"},"Specifiers")," rooted in a resource object can trigger remote calls when evaluated. These are called ",(0,i.kt)("em",{parentName:"p"},"remote specifiers"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'require app Safari\nname of every window of Safari -- Remote specifier (triggers remote "get" call)\n')),(0,i.kt)("h2",{id:"types-of-resources"},"Types of resources"),(0,i.kt)("h3",{id:"app"},(0,i.kt)("a",{parentName:"h3",href:"/docs/ref/grammar#require"},"App")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require app")," refers to an app installed on the host system."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Imported terms"),": The app's AppleScript terminology, if it defines any."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote calls"),": AppleEvents sent to the application.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Transport format"),": AppleScript objects"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote specifiers"),": AppleEvent Object Model (AEOM) objects within the application.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"require app Mail\nrequire app id com.apple.Safari\n\n-- Error if Google Chrome is not installed:\nrequire app Google Chrome\n\ntell Google Chrome to make new window -- Remote call\nname of front window of Google Chrome -- Remote specifier evaluation\n")),(0,i.kt)("h3",{id:"library"},(0,i.kt)("a",{parentName:"h3",href:"/docs/ref/grammar#require"},"Library")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require library")," refers to an installed script library (written in BushelScript or AppleScript)."),(0,i.kt)("p",null,"If the library is written in BushelScript:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Imported terms"),": Terms the script defines."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Local calls"),": Calls to local functions. (Function definitions are imported.)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Local specifiers"),": Like any other local specifiers.")),(0,i.kt)("p",null,"If the library is written in AppleScript:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Imported terms"),": The script's sdef terminology, if it defines any."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote calls"),": AppleEvents executed in the context of the AppleScript script.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Transport format"),": AppleScript objects"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote specifiers"),": None (will produce an error when evaluated).")),(0,i.kt)("h3",{id:"applescript"},(0,i.kt)("a",{parentName:"h3",href:"/docs/ref/grammar#require"},"AppleScript")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require AppleScript")," refers to an AppleScript file located somewhere on the host system."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Imported terms"),": The script's sdef terminology, if it defines any."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote calls"),": AppleEvents executed in the context of the AppleScript script.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Transport format"),": AppleScript objects"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote specifiers"),": None (will produce an error when evaluated).")),(0,i.kt)("h3",{id:"system"},(0,i.kt)("a",{parentName:"h3",href:"/docs/ref/grammar#require"},"System")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"require system")," or equivalent refers to the operating system in general, or a specific minimum version thereof."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Imported terms"),": The ",(0,i.kt)("inlineCode",{parentName:"li"},"System Events")," app's AppleScript terminology."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote calls"),": AppleEvents sent to the ",(0,i.kt)("inlineCode",{parentName:"li"},"System Events")," app.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Transport format"),": AppleScript objects"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Remote specifiers"),": AppleEvent Object Model (AEOM) objects within ",(0,i.kt)("inlineCode",{parentName:"li"},"System Events"),".")))}m.isMDXComponent=!0}}]);