<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/help/blog/rss.xml" title="BushelScript Help Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/help/blog/atom.xml" title="BushelScript Help Blog Atom Feed">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">5-1: Functions | BushelScript Help</title><meta data-react-helmet="true" property="og:url" content="https://bushelscript.github.io/help/docs/ref/functions"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="5-1: Functions | BushelScript Help"><meta data-react-helmet="true" name="description" content="Functions allow BushelScript code to be named, reused, and called recursively. Put another way, they allow commands to be defined and implemented locally, in BushelScript code (as opposed to remotely, like in apps)."><meta data-react-helmet="true" property="og:description" content="Functions allow BushelScript code to be named, reused, and called recursively. Put another way, they allow commands to be defined and implemented locally, in BushelScript code (as opposed to remotely, like in apps)."><link data-react-helmet="true" rel="shortcut icon" href="/help/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://bushelscript.github.io/help/docs/ref/functions"><link data-react-helmet="true" rel="alternate" href="https://bushelscript.github.io/help/docs/ref/functions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://bushelscript.github.io/help/docs/ref/functions" hreflang="x-default"><link rel="stylesheet" href="/help/assets/css/styles.0b93e096.css">
<link rel="preload" href="/help/assets/js/runtime~main.2fafd0de.js" as="script">
<link rel="preload" href="/help/assets/js/main.dacd655e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--primary navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/help/"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">BushelScript Help</strong></a><a class="navbar__item navbar__link" href="/help/docs/tutorial">Quick Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/help/docs/ref">Reference</a><a class="navbar__item navbar__link" href="/help/docs/integration">Integration</a><a class="navbar__item navbar__link" href="/help/docs/internal">Internals</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/help/"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">BushelScript Help</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/help/docs/tutorial">Quick Tutorial</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/help/docs/ref">Reference</a></li><li class="menu__list-item"><a class="menu__link" href="/help/docs/integration">Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/help/docs/internal">Internals</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/help/"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/help/img/favicon.ico" alt="BushelScript Help" class="themedImage_1VuW themedImage--dark_hz6m"><strong>BushelScript Help</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Language Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/docs/ref">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Section 1: Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/user-interaction">Part 1: User Interaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/basic-syntax">Part 2: Basic Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/data-flow">Part 3: Data Flow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/object-types">Part 4: Object Types</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Section 2: Terms and Dictionaries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/terms">Part 1: Terms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/dictionaries">Part 2: Dictionaries</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Section 3: Scripting Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/specifiers">Part 1: Specifiers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/resources">Part 2: Resources</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Section 4: Basic Programming Features</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/help/docs/ref/functions">Part 1: Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/help/docs/ref/control-flow">Part 2: Control Flow</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Appendices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/built-in-terms">A: Built-in Terms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/help/docs/ref/grammar">B: Grammar</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">5-1: Functions</h1></header><div class="markdown"><p>Functions allow BushelScript code to be named, reused, and called recursively. Put another way, they allow commands to be defined and implemented locally, in BushelScript code (as opposed to remotely, like in apps).</p><p>For background on the design of the command model, including functions, please consult <a href="https://igregory.ca/2021/bushel-command-model/" target="_blank" rel="noopener noreferrer">this blog post</a>.</p><p>See also: <a href="/help/docs/tutorial/functions">Quick Tutorial</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="named-functions"></a><a href="/help/docs/ref/grammar#definition">Named functions</a><a class="hash-link" href="#named-functions" title="Direct link to heading">#</a></h2><p>A named function definition consists of:</p><ul><li>(One of the keywords <code>on</code> or <code>to</code>)</li><li>A name, which gets defined as a command term in the current dictionary if such a term isn&#x27;t already there</li><li>A list of parameter definitions (one per line), which each consist of:<ul><li>A name, which gets defined as a parameter term in the command&#x27;s dictionary if such a term isn&#x27;t already there</li><li>An optional <a href="/help/docs/ref/terms#semantic-uris">URI</a> for the parameter term (or one of the keywords <code>direct</code> or <code>target</code>); if absent, defaults to a URI derived from the parameter name<ul><li>This can be used to define direct and target parameters, or to provide synonym parameter names</li></ul></li><li>An optional variable name to refer to the parameter&#x27;s value in the function body; if absent, defaults to the parameter&#x27;s name</li><li>A <code>type</code>, used by local function selection to determine which function to call given a set of arguments</li></ul></li><li>(The keyword <code>do</code> to end the parameter list, followed by a line break)</li><li>A sequence of expressions in the function body, which may use any command, parameter and variable terms just defined</li><li>(The keyword <code>end</code> to end the function body)</li></ul><p>e.g.,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">to add</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  item [direct] (item to add)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  to [target] (target list): list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  times: integer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  repeat times times</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tell Core to add |item to add| to target list</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  target list -- Returns the target.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;first&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tell that to add &quot;tail&quot; times 5</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="anonymous-functions"></a><a href="/help/docs/ref/grammar#compound">Anonymous functions</a><a class="hash-link" href="#anonymous-functions" title="Direct link to heading">#</a></h2><p>An anonymous function definition consists of:</p><ul><li>Optionally:<ul><li>(The keyword <code>take</code>)</li><li>A (comma-separated) list of variable names to bind to ordered parameters (i.e., the items of the direct parameter as a decomposed sequence)</li></ul></li><li>(The keyword <code>do</code>)</li><li>One of:<ul><li>Sequence body:<ul><li>(A line break)</li><li>A sequence of expressions in the function body, which may use any variable terms just defined</li><li>(The keyword <code>end</code>)</li></ul></li><li>Non-sequence body:<ul><li>A single expression for the function body, which may use any variable terms just defined</li></ul></li></ul></li></ul><p>e.g.,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">require library List</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tell {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  add map {1,2,3} by take value do</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    value + 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  end</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  add map {1,2,3} by take value do value + 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  add map {1,2,3} by do it + 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-08-30T22:44:33.000Z" class="lastUpdatedDate_1WI_">8/30/2021</time> by <strong>Ian Gregory</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/help/docs/ref/resources"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 3-2: Resources</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/help/docs/ref/control-flow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">5-2: Control Flow »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#named-functions" class="table-of-contents__link">Named functions</a></li><li><a href="#anonymous-functions" class="table-of-contents__link">Anonymous functions</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/help/assets/js/runtime~main.2fafd0de.js"></script>
<script src="/help/assets/js/main.dacd655e.js"></script>
</body>
</html>