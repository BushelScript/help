(self.webpackChunk=self.webpackChunk||[]).push([[772],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>c,kt:()=>f});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),f=i,u=m["".concat(s,".").concat(f)]||m[f]||d[f]||a;return n?r.createElement(u,o(o({ref:t},c),{},{components:n})):r.createElement(u,o({ref:t},c))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{frontMatter:()=>l,metadata:()=>s,toc:()=>p,default:()=>d});var r=n(2122),i=n(9756),a=(n(7294),n(3905)),o=["components"],l={title:"sdef Files",sidebar_label:"sdef Files"},s={unversionedId:"internal/sdef",id:"internal/sdef",isDocsHomePage:!1,title:"sdef Files",description:"sdef (scripting definition) files are the modern AppleScript terminology definition format. They contain machine-readable AE code to AppleScript name mappings, implementation hints for the AppKit AppleEvent scripting mechanisms, and end-user documentation.",source:"@site/docs/internal/sdef.md",sourceDirName:"internal",slug:"/internal/sdef",permalink:"/help/docs/internal/sdef",version:"current",lastUpdatedBy:"Ian Gregory",lastUpdatedAt:1623393694,formattedLastUpdatedAt:"6/11/2021",sidebar_label:"sdef Files",frontMatter:{title:"sdef Files",sidebar_label:"sdef Files"},sidebar:"internal",previous:{title:"Translation Files",permalink:"/help/docs/internal/translation"}},p=[],c={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"sdef (scripting definition) files are the modern AppleScript terminology definition format. They contain machine-readable AE code to AppleScript name mappings, implementation hints for the AppKit AppleEvent scripting mechanisms, and end-user documentation."),(0,a.kt)("p",null,"sdef files use an XML-based format, with a DTD you can find on any macOS system at ",(0,a.kt)("inlineCode",{parentName:"p"},"/System/Library/DTDs/sdef.dtd"),". The format is explained surprisingly comprehensively in ",(0,a.kt)("inlineCode",{parentName:"p"},"man 5 sdef"),". They have extension ",(0,a.kt)("inlineCode",{parentName:"p"},".sdef"),", hence their name."),(0,a.kt)("p",null,"BushelScript parses sdef files when the following resource types are imported:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"app")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"system")," (i.e., ",(0,a.kt)("inlineCode",{parentName:"li"},"System Events.sdef"),")"),(0,a.kt)("li",{parentName:"ul"},"AppleScript-based ",(0,a.kt)("inlineCode",{parentName:"li"},"library")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"AppleScript")," (by path)")),(0,a.kt)("p",null,"All terms parsed from an sdef file are placed in the resource's dictionary, except for parameters, which are placed in their command's dictionary (in the resource dictionary)."),(0,a.kt)("p",null,"BushelScript's sdef parsing is handled by ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ThatsJustCheesy/SDEFinitely"},"SDEFinitely"),", which consists mostly of code extracted from hhas' SwiftAutomation, a descendant of ObjC-appscript."),(0,a.kt)("p",null,"Note that the system API used to retrieve the data, ",(0,a.kt)("inlineCode",{parentName:"p"},"OSACopyScriptingDefinitionFromURL"),", automatically converts terminology definitions from older formats to sdef format as needed. Such older formats are the ",(0,a.kt)("inlineCode",{parentName:"p"},"scriptSuite"),"/",(0,a.kt)("inlineCode",{parentName:"p"},"scriptTerminolgoy")," plist pair (an obsolete but still existant format used by older AppKit apps) and the ",(0,a.kt)("inlineCode",{parentName:"p"},"'aete'")," format (literally a Classic Mac OS binary resource fork format, it's horrible but it can still be used)."))}d.isMDXComponent=!0}}]);