(self.webpackChunk=self.webpackChunk||[]).push([[840],{3905:(e,t,r)=>{"use strict";r.d(t,{Zo:()=>c,kt:()=>u});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(r),u=i,h=m["".concat(p,".").concat(u)]||m[u]||d[u]||o;return r?n.createElement(h,a(a({ref:t},c),{},{components:r})):n.createElement(h,a({ref:t},c))}));function u(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},4780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{frontMatter:()=>s,metadata:()=>p,toc:()=>l,default:()=>d});var n=r(2122),i=r(9756),o=(r(7294),r(3905)),a=["components"],s={title:"2-2: Dictionaries",sidebar_label:"Part 2: Dictionaries"},p={unversionedId:"ref/dictionaries",id:"ref/dictionaries",isDocsHomePage:!1,title:"2-2: Dictionaries",description:"A dictionary is a set of terms identified by term name. Dictionaries are themselves contained in terms. Every term has a dictionary. The term that contains a dictionary is the dictionary's container term. Organizing terms into dictionaries helps reduce name clashes.",source:"@site/docs/ref/dictionaries.md",sourceDirName:"ref",slug:"/ref/dictionaries",permalink:"/help/docs/ref/dictionaries",version:"current",lastUpdatedBy:"Ian Gregory",lastUpdatedAt:1623479137,formattedLastUpdatedAt:"6/12/2021",sidebar_label:"Part 2: Dictionaries",frontMatter:{title:"2-2: Dictionaries",sidebar_label:"Part 2: Dictionaries"},sidebar:"ref",previous:{title:"2-1: Terms",permalink:"/help/docs/ref/terms"},next:{title:"3-1: Specifiers",permalink:"/help/docs/ref/specifiers"}},l=[{value:"The lexicon",id:"the-lexicon",children:[]},{value:"Term lookup",id:"term-lookup",children:[{value:"Primary term lookup",id:"primary-term-lookup",children:[]},{value:"Secondary term lookup",id:"secondary-term-lookup",children:[]}]},{value:"Exporting dictionaries",id:"exporting-dictionaries",children:[]}],c={toc:l};function d(e){var t=e.components,r=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"A ",(0,o.kt)("em",{parentName:"p"},"dictionary")," is a set of ",(0,o.kt)("a",{parentName:"p",href:"terms"},"terms")," identified by ",(0,o.kt)("a",{parentName:"p",href:"terms#term-names"},"term name"),". Dictionaries are themselves contained in terms. Every term has a dictionary. The term that contains a dictionary is the dictionary's ",(0,o.kt)("em",{parentName:"p"},"container term"),". Organizing terms into dictionaries helps reduce name clashes."),(0,o.kt)("p",null,"See also: ",(0,o.kt)("a",{parentName:"p",href:"../tutorial/dictionaries"},"Quick Tutorial"),"."),(0,o.kt)("h2",{id:"the-lexicon"},"The lexicon"),(0,o.kt)("p",null,"The ",(0,o.kt)("em",{parentName:"p"},"lexicon")," refers to the list of in-scope dictionaries at a given point in a program. A term is ",(0,o.kt)("em",{parentName:"p"},"in the lexicon")," if it is defined by one of those dictionaries."),(0,o.kt)("h2",{id:"term-lookup"},"Term lookup"),(0,o.kt)("p",null,"When the parser encounters a term name (such as ",(0,o.kt)("inlineCode",{parentName:"p"},"abc"),"), it consults the lexicon to find a term with that name. This process is ",(0,o.kt)("em",{parentName:"p"},"term lookup"),'. Term lookup has two subprocesses, primary lookup and secondary lookup. Primary lookup is always tried first, and if it fails, secondary lookup is tried instead. If secondary lookup also fails, then the entire lookup fails, and an "undefined term" error may result.'),(0,o.kt)("h3",{id:"primary-term-lookup"},"Primary term lookup"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Primary term lookup")," finds terms in the lexicon. The dictionaries in the lexicon are searched in order from bottom (most recently pushed) to top (the built-in top-level dictionary)."),(0,o.kt)("h4",{id:"term-shadowing"},"Term shadowing"),(0,o.kt)("p",null,"A term in the lexicon ",(0,o.kt)("em",{parentName:"p"},"shadows")," any ",(0,o.kt)("a",{parentName:"p",href:"terms#homonyms"},"homonyms")," in dictionaries later in the search order. Shadowed terms are hidden from primary lookup until the shadowing term's dictionary is removed from the lexicon."),(0,o.kt)("h3",{id:"secondary-term-lookup"},"Secondary term lookup"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Secondary term lookup")," finds terms exported by the dictionaries of terms in the lexicon (explained below)."),(0,o.kt)("h2",{id:"exporting-dictionaries"},"Exporting dictionaries"),(0,o.kt)("p",null,"An ",(0,o.kt)("em",{parentName:"p"},"exporting dictionary")," ",(0,o.kt)("em",{parentName:"p"},"exports")," its contents, making them visible to secondary term lookup when the dictionary's container term is in the lexicon. All dictionaries other than command dictionaries (used for parameters) and ",(0,o.kt)("inlineCode",{parentName:"p"},"function")," dictionaries (used for variables) are exporting."),(0,o.kt)("p",null,"Given the following dictionary setup:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"defining type A\n  defining type B\n    define type C\n  end\nend\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"A")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"B")," are both terms containing exporting dictionaries. Therefore, ",(0,o.kt)("inlineCode",{parentName:"p"},"B")," is visible to secondary term lookup when ",(0,o.kt)("inlineCode",{parentName:"p"},"A")," is in the lexicon because ",(0,o.kt)("inlineCode",{parentName:"p"},"A")," exports it. Likewise, ",(0,o.kt)("inlineCode",{parentName:"p"},"C")," is visible to secondary term lookup when ",(0,o.kt)("inlineCode",{parentName:"p"},"B")," is in the lexicon because ",(0,o.kt)("inlineCode",{parentName:"p"},"B")," exports it."),(0,o.kt)("p",null,"Note that ",(0,o.kt)("inlineCode",{parentName:"p"},"C")," is ",(0,o.kt)("em",{parentName:"p"},"not")," visible when only ",(0,o.kt)("inlineCode",{parentName:"p"},"A")," is in the lexicon because ",(0,o.kt)("inlineCode",{parentName:"p"},"C")," is exported by ",(0,o.kt)("inlineCode",{parentName:"p"},"B"),", not ",(0,o.kt)("inlineCode",{parentName:"p"},"A"),". In this case, ",(0,o.kt)("inlineCode",{parentName:"p"},"C")," could be referred to as ",(0,o.kt)("inlineCode",{parentName:"p"},"B : C")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"A : B : C"),", but not as just ",(0,o.kt)("inlineCode",{parentName:"p"},"C"),"."),(0,o.kt)("p",null,"This feature is likely to be tweaked or removed in the future."))}d.isMDXComponent=!0}}]);